<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notion CMS</title>
  <meta name="description" content="A serverless website powered by Notion as a content management system.">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/blog.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="container">
      <a href="/" class="logo">Notion CMS</a>
      <button class="mobile-menu-toggle" aria-label="Toggle navigation" aria-expanded="false">&#9776;</button>
      <ul class="nav-links">
        <li><a href="/" class="active">Home</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/pages">Pages</a></li>
      </ul>
    </nav>
  </header>

  <!-- Loading State -->
  <div id="loading" class="loading-state" style="display: none; margin-top: 100px;">
    <div class="loading-spinner"></div>
    <p>Loading homepage content</p>
  </div>

  <!-- Error State -->
  <div id="error" class="error-state" style="display: none; margin-top: 100px;">
    <h3>Unable to load content</h3>
    <p>Please try again later.</p>
  </div>

  <!-- Dynamic Homepage Content (from Notion) -->
  <main id="home-content" class="layout-landing" style="display: none;">
    <!-- Content will be injected here by home.js -->
  </main>

  <!-- Fallback Content (shown when NOTION_HOMEPAGE_ID is not configured) -->
  <div id="fallback-content">
    <!-- Hero Section -->
    <section class="hero">
      <!-- Floating decorative elements -->
      <div class="hero-float hero-float-1"></div>
      <div class="hero-float hero-float-2"></div>
      <div class="hero-float hero-float-3"></div>

      <div class="hero-content">
        <div class="hero-badge">
          <span class="hero-badge-dot"></span>
          Open Source CMS
        </div>
        <h1>
          Your content,<br>
          <span class="gradient-text">powered by Notion</span>
        </h1>
        <p class="hero-description">
          Build dynamic, beautiful websites using Notion as your CMS.
          Write in Notion's familiar editor, publish everywhere — automatically.
        </p>
        <div class="hero-actions">
          <a href="/blog" class="btn btn-primary btn-lg">Explore Blog</a>
          <a href="/pages" class="btn btn-secondary btn-lg">Browse Pages</a>
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <section class="section section-alt">
      <div class="container">
        <h2 class="text-center mb-2xl">How It Works</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-number">01</div>
            <h3>Connect Notion</h3>
            <p>Create a Notion integration and share your pages with it. Your content becomes instantly accessible.</p>
          </div>
          <div class="feature-card">
            <div class="feature-number">02</div>
            <h3>Write Content</h3>
            <p>Use Notion's powerful editor to create rich content with images, code blocks, tables, and more.</p>
          </div>
          <div class="feature-card">
            <div class="feature-number">03</div>
            <h3>Publish Instantly</h3>
            <p>Changes sync automatically. No manual deployment needed — your site is always up to date.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Features -->
    <section class="section">
      <div class="container">
        <h2 class="text-center mb-2xl">Powerful Features</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">&#9998;</div>
            <h3>All Block Types</h3>
            <p>Full support for paragraphs, headings, lists, images, code blocks, tables, toggles, callouts, embeds, and more.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">&#9889;</div>
            <h3>Auto Discovery</h3>
            <p>Any page shared with your integration automatically becomes a published page on your site.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">&#9729;</div>
            <h3>Serverless</h3>
            <p>Built on Netlify Functions. No servers to manage, scales automatically with your traffic.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">&#9201;</div>
            <h3>Smart Caching</h3>
            <p>Intelligent caching for blazing fast load times while keeping your content fresh.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">&#127912;</div>
            <h3>Customizable</h3>
            <p>Full control over styling with CSS custom properties. Make it uniquely yours.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">&#128274;</div>
            <h3>Preview Mode</h3>
            <p>Preview draft content before publishing with secure preview links.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Code Block Section -->
    <section class="section section-alt">
      <div class="container-narrow">
        <h2 class="text-center mb-xl">Quick Setup</h2>
        <p class="text-center mb-2xl" style="color: var(--color-text-secondary);">
          Get started in minutes with just a few commands
        </p>

        <div class="code-block mb-xl">
          <div class="code-header">
            <span class="code-dot code-dot-red"></span>
            <span class="code-dot code-dot-yellow"></span>
            <span class="code-dot code-dot-green"></span>
          </div>
          <div class="code-content">
<pre><span style="color: #9ca3af;"># Clone the repository</span>
git clone https://github.com/K41R0N/Notion-as-CMS.git
cd Notion-as-CMS

<span style="color: #9ca3af;"># Install dependencies</span>
npm install

<span style="color: #9ca3af;"># Configure your environment</span>
cp .env.example .env

<span style="color: #9ca3af;"># Start development server</span>
npm run dev</pre>
          </div>
        </div>

        <div class="code-block">
          <div class="code-header">
            <span class="code-dot code-dot-red"></span>
            <span class="code-dot code-dot-yellow"></span>
            <span class="code-dot code-dot-green"></span>
          </div>
          <div class="code-content">
<pre><span style="color: #9ca3af;"># .env configuration</span>
NOTION_TOKEN=secret_your_integration_token
NOTION_BLOG_PAGE_ID=your_blog_parent_page_id
NOTION_HOMEPAGE_ID=your_homepage_page_id
PREVIEW_SECRET=your_preview_secret</pre>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="cta-content">
        <h2>Ready to get started?</h2>
        <p>Transform your Notion workspace into a powerful, beautiful website today.</p>
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
          <a href="https://github.com/K41R0N/Notion-as-CMS" class="btn btn-secondary btn-lg" target="_blank" rel="noopener">
            View on GitHub
          </a>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container text-center">
      <p style="margin-bottom: 0.5rem;">
        <strong style="color: var(--color-white);">Notion CMS</strong>
      </p>
      <p style="font-size: 0.875rem; color: var(--color-gray-500);">
        Open source and free to use. Built with Notion API and Netlify Functions.
      </p>
    </div>
  </footer>

  <script src="/js/utils.js"></script>
  <script src="/js/home.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (window.NotionCMS && window.NotionCMS.utils) {
        window.NotionCMS.utils.initNavigation();
      }
    });
  </script>
</body>
</html>
